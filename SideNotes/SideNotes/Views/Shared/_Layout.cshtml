<!DOCTYPE html>
<html>
<head>
    <title>@ViewBag.Title</title>
    <link href="@Url.Content("~/Content/Site.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/SideNotesStyles.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/LightBox.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/css/reset.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/css/default.css")" rel="stylesheet" type="text/css" />
    <link href="@Url.Content("~/Content/css/markup.css")" rel="stylesheet" type="text/css" />


    @{
        switch (System.Globalization.CultureInfo.CurrentUICulture.IetfLanguageTag.ToLower())
        {
            case "en":
                <script src="@Url.Content("~/Scripts/Resources/ResourceStrings.en.js")" type="text/javascript"></script>
                break;
            case "de":
                <script src="@Url.Content("~/Scripts/Resources/ResourceStrings.de.js")" type="text/javascript"></script>
                break;
            default:
                <script src="@Url.Content("~/Scripts/Resources/ResourceStrings.js")" type="text/javascript"></script>
                break;
        }
    }

    <script src="@Url.Content("~/Scripts/jquery-1.7.1.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Observable.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/SideNotesCustom.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Utilities/StringExtensions.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/shorten.jQuery.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/toolTip.jQuery.js")" type="text/javascript"></script>

    <script src="@Url.Content("~/Scripts/AjaxForm.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/LightBox.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/UnclosableBox.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/PopupBox.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Comments.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/commentListFunctions.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/Main.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/AddHeadBox.js")" type="text/javascript"></script>
    <script src="http://platform.twitter.com/widgets.js" type="text/javascript"></script>
    <script src="http://vkontakte.ru/js/api/share.js?9" type="text/javascript" charset="windows-1251"></script>

    <script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
    <script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
    @RenderSection("HEAD", false)
</head>

<body>
    <div id="main_outer">
        @Html.Partial("LoginBox", null, new ViewDataDictionary())
        @Html.Partial("RegisterBox", null, new ViewDataDictionary())
        @Html.Partial("RegisterOrLoginBox", null, new ViewDataDictionary())
		<div id="header"><div id="header_inner">@Html.Action("Header", "Layout", new { tab = ViewData["SelectedTab"] == null ? null : (int?)((int)ViewData["SelectedTab"]) })</div></div>
        <div id="lightbox_shadow" class="lightbox_shadow">&nbsp;</div>
        <div id="unclosablebox_shadow" class="lightbox_shadow">&nbsp;</div>
		@RenderBody()		
    </div>
    <script type="text/javascript">
        var EntityType = {Paragraph : @((int) EntityType.Paragraph)};
        var FormatType = {Common : @((int) FormatType.Common),
            Title : @((int) FormatType.Title),
            Epigraph : @((int) FormatType.Epigraph),
            EpigraphAuthor : @((int) FormatType.EpigraphAuthor),
            Cite : @((int) FormatType.Cite),
            CiteAuthor : @((int) FormatType.CiteAuthor),
            Poem : @((int) FormatType.Poem),
            PoemAuthor : @((int) FormatType.PoemAuthor),
            Image : @((int) FormatType.Image),
            EmptyLine : @((int) FormatType.EmptyLine),
            FootNote : @((int) FormatType.FootNote)
        };
        var facebook_app_Id = '@(System.Configuration.ConfigurationManager.AppSettings["facebookAppID"])';
        var siteRootUrl = '@(System.Configuration.ConfigurationManager.AppSettings["siteRootUrl"])';
        var projectName ='@(System.Configuration.ConfigurationManager.AppSettings["projectName"])';
        var siteLogoUrl = '@Url.Absolute("/Content/img/sidenotes_logo.gif")';
        var userLanguage = '@(System.Globalization.CultureInfo.CurrentUICulture.IetfLanguageTag.ToLower())';
    </script>
</body>
</html>