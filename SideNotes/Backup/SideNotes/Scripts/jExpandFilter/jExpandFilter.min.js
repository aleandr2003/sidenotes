(function($){$.ajaxSetup({cache:false});var block=false;var rightIcon,downIcon;var settings={rightIcon:'src/img/arrow_right_expand.png',downIcon:'src/img/arrow_down_expand.png'};function filter(selector,query){query=$.trim(query);query=query.replace(/ /gi,'|');$(selector).each(function(){if(($(this).text().search(new RegExp(query,"i"))<0)){$(this).hide().removeClass('visible');$(this).prev().find('.expand').css('background',rightIcon)}else{$(this).parent().find('.expand').css('background',downIcon);$(this).show().addClass('visible')}})}function init(el){$(el).css('cursor','pointer');$(el).css('float','left');$(el).css('width','16px');$(el).css('height','16px');$(el).css('margin-right','7px');$(el).css('background',downIcon)}var methods={toggle:function(options){if(options){$.extend(settings,options)}rightIcon='url\('+settings.rightIcon+'\) transparent left center no-repeat';downIcon='url\('+settings.downIcon+'\) transparent left center no-repeat';init($(this));return this.each(function(){$(this).mousedown(function(){var descriptionDiv=$(this).parent().next();if($(descriptionDiv).is(":hidden")){$(this).css('background',downIcon)}else{$(this).css('background',rightIcon)}$(descriptionDiv).slideToggle("fast")})})},showHideAll:function(){$(this).mousedown(function(){$('.collapsibleContent').each(function(index){var value=$(this).css('display');if(block){$(this).css('display','block')}else{$(this).css('display','none')}});if(block){block=false;$('.expand').each(function(index){$(this).css('background',downIcon)})}else{block=true;$('.expand').each(function(index){$(this).css('background',rightIcon)})}})},filterText:function(){$(this).keyup(function(event){if(event.keyCode==27){$(this).val('');filter('.collapsibleContent',$(this).val())}else{filter('.collapsibleContent',$(this).val())}})}};$.fn.jExpandFilter=function(method,options){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof method==='object'||!method){return methods.init.apply(this,arguments);alert('ALERT: <'+method+'> is not a method jQuery.jExpandFilter call')}else{alert('ALERT: Method <'+method+'> does not exist on jQuery.jExpandFilter plugin')}}})(jQuery);